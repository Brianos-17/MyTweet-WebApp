{{> menu id="account"}}

<section class="ui raised segment">
    <div class="ui three column grid basic center aligned segment">
        <div class="column left aligned">
            <h3> Member Details </h3>
            <div class="ui card">
                <div class="card">
                    <img class="ui large image" src="/getProfilePic" alt="Update-Profile icon"
                         onerror="this.src = 'http://res.cloudinary.com/dlswdhwpl/image/upload/v1503513638/accounts-page_vs2sh7.png';">
                </div>
                <div class="content">
                    <div class="description">
                        <p>Name: {{user.firstName}} {{user.lastName}}</p>
                        <p>Email: {{user.email}}</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="column left aligned">
            <h3>Update Profile</h3>

            <form class="ui segment form" name="updateAccount" action="/updateAccount/{{user.email}}" method="POST">
                <div class="field">
                    <label> First Name </label>
                    <input value="{{user.firstName}}" placeholder="First Name..." type="text" name="firstName">
                </div>
                <div class="field">
                    <label> Last Name </label>
                    <input value="{{user.lastName}}" placeholder="Last Name..." type="text" name="lastName">
                </div>
                <div class="field">
                    <label> Email </label>
                    <input value="{{user.email}}" placeholder="E-mail Address..." type="email" name="email">
                </div>
                <div class="field">
                    <label> Password </label>
                    <input value="{{user.password}}" placeholder="Password..." type="password" name="password">
                </div>
                <div class="field">
                    <label> Password Validation </label>
                    <input value="{{user.password}}" placeholder="Please enter the same password as above..."
                           type="password" name="passwordValid">
                </div>
                <button class="ui blue submit button">Update</button>
            </form>
        </div>

        <div class="column left aligned">
            <h3>Update Profile Picture</h3>
            <form class="ui segment form" enctype="multipart/form-data" name="updateProfilePic"
                  action="/updateProfilePic/{{user.email}}" method="POST">
                <div class="field">
                    <label> Image </label>
                    <input type="file" name="profilePic">
                </div>
                <button class="ui blue submit button">Update</button>
            </form>
            {{> form-error}}
        </div>
    </div>
</section>
